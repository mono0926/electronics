# フェーズ 2.1: LEDテープの準備と加工 ✂️

このフェーズでは、ピアノの鍵盤を照らす「光の心臓部」であるLEDテープを準備します。144LED/mの高密度テープは扱いが繊細なため、丁寧に作業を進めましょう。

---

## 🛠 準備するもの

- [ ] **WS2812B LEDテープ** (144LED/m, 2m)
- [ ] **JST-SM 3P コネクタ** (オス・メス)
- [ ] **シリコンネオンチューブ** (T1023 Black)
- [ ] **アルミフラットバー** (20mm幅)
- [ ] **Pカッター** (タミヤ)
- [ ] **半田ごて一式**
- [ ] **熱収縮チューブ**
- [ ] **両面テープ** (強力タイプ)

---

## 1. LEDテープのカットと方向確認

LEDテープには**信号の流れる向き**が決まっています。これを間違えると、どれだけ完璧に配線しても光りません。

### 🔍 向きの確認方法

テープの表面をよく見ると、以下の刻印があります。

- `+5V` / `DIN` (または `DI`) / `GND`
- **矢印マニフェスト**: 小さな三角（`▶`）が並んでいます。
  - **入力側**: 矢印が「向こう側」を指している端。ここから信号を入れます。
  - **出力側**: 矢印が「外側」を指している端。

### ✂️ カットの儀式

ピアノの幅に合わせてカットします。通常、88鍵盤の幅は約1,220mm〜1,250mmです。

1. **計測**: ピアノの鍵盤の端から端までを測ります。
2. **切断**: 銅色の接点（パッド）の**真ん中**をハサミで切ります。
   > [!WARNING]
   > 144LED/mは接点が非常に小さいです。慎重にど真ん中を狙ってください。

---

## 2. コネクタの半田付け

LEDテープとコントローラーを簡単に着脱できるよう、JST-SMコネクタを取り付けます。

### 🗺 配線規則 (重要！)

以下のルールを**絶対**に守ってください。

| 信号線         | LEDテープの刻印 | コネクタの色 (標準) | 内容                             |
| :------------- | :-------------- | :------------------ | :------------------------------- |
| **電源 +**     | `+5V`           | **赤**              | 5V電源へ                         |
| **データ信号** | `DIN` / `DI`    | **緑** (または白)   | ラズパイのGPIO 18へ              |
| **電源 -**     | `GND`           | **黒** (または白)   | 電源のマイナス & ラズパイのGNDへ |

### 💡 半田付けのコツ

1. **予備半田**: テープのパッドと、ワイヤーの先端の両方に、あらかじめ少量の半田を載せておきます。
2. **接着**: 両者を重ねて、コテ先で一瞬（1秒以内）温めて溶け合わせます。
3. **絶縁**: `+5V` と `GND` が隣接しているため、1本の半田のヒゲが接触するだけでショートします。ルーペなどで入念に確認してください。

---

## 3. 保護と拡散の処理

LEDの粒感を消し、ピアノに馴染ませるための仕上げです。

### 🍬 熱収縮チューブ

半田付けした部分が剥き出しだと、アルミバーに接触してショートする危険があります。

1. コネクタの付け根に熱収縮チューブを被せます。
2. ライヤーやドライヤー（強）で加熱し、ぴったり密着させます。

### 🥖 シリコンチューブへの挿入

1. LEDテープをシリコンネオンチューブの中にスルスルと通します。
   - 長い場合は、釣り糸などを先に通して引っ張ると楽です。
2. シリコンチューブもピアノの幅に合わせてカットします。

---

## 4. アルミバーへの固定

LEDテープは動作中に熱を持ちます。アルミバーは「土台」であると同時に「放熱板」の役割も果たします。

1. **脱脂**: アルミバーの表面をアルコールなどで拭き、油分を取り除きます。
2. **貼り付け**: シリコンチューブの裏面に強力な両面テープを貼り、アルミバーに固定します。
3. **ケーブルの固定**: コネクタ側の配線が引っ張られても半田が取れないよう、アルミバーの端にケーブルタイやテープで遊びを作って固定（ストレスリリーフ）しておきます。

---

## 🏁 完了チェックリスト

- [ ] LEDテープの「入力側（矢印の始まり）」にコネクタがついている。
- [ ] `+5V` と `GND` が隣のパッドと接触していない。
- [ ] アルミバーにしっかり固定され、配線に無理な力がかかっていない。

次は、コントロールユニットの作成に進みます。

[**フェーズ 2.2: コントローラーの配線**](hw_step2_2_controller.md) へ進む ➡️
