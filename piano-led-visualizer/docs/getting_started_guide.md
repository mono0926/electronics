# Piano LED Visualizer ビギナーズ・スタートガイド 🎹✨

部品注文お疲れ様でした！このガイドでは、電子工作が初めての方でも安心して「ピアノ演奏と光の同期」を実現できるよう、ステップバイステップで準備と組み立てを解説します。

---

## 🚀 プロジェクト・ロードマップ

完成までの道のりは大きく4つのステップに分かれます。

1. **フェーズ1: 準備（部品到着前）**
   - Raspberry Pi OS のインストールと設定
2. **フェーズ2: ハードウェア組み立て**
   - LEDテープとラズパイの接続（安全第一！）
3. **フェーズ3: ソフトウェアセットアップ**
   - 制御プログラムの自動インストール
4. **フェーズ4: 調整と仕上げ**
   - 鍵盤とLEDの位置合わせ、色彩カスタマイズ

---

## 🛑 安全のための最重要事項（火災・故障防止）

電子工作には「壊さないためのルール」があります。作業前に必ず読んでください。

> [!CAUTION]
> **5V電源を死守する**
> LEDテープと Raspberry Pi は **5.0V** で動作します。12Vなどの異なる電源を接続すると、一瞬で全ての機材が焼け、煙が出る恐れがあります。ACアダプタのラベルを必ず確認してください。

> [!IMPORTANT]
> **通電中の配線禁止**
> 配線作業は必ず **電源アダプタを抜いた状態** で行ってください。ピンが隣と接触（ショート）して火花が出るのを防ぎます。

---

## 📦 フェーズ1: ソフトウェアの準備（SDカード作成）

部品が届く前にできる作業です。

1. **Raspberry Pi Imager** をダウンロードして開きます。
2. **OS 選択**: `Raspberry Pi OS (64-bit) Lite`
3. **詳細設定 (歯車アイコン)** で以下を設定します：
   - ホスト名: `pianoledvisualizer.local`
   - SSH を有効化（パスワード認証）
   - ユーザー名: `plv` / パスワード: `visualizer`（任意ですが推奨値です）
   - Wi-Fi 設定: 自宅の SSID とパスワードを入力
4. SDカードに書き込みます。

---

## 🔌 フェーズ2: ハードウェアの組み立て

部品が届いたら配線を行います。

### 1. LEDテープの配線規則

LEDテープには「向き（信号の流れる方向）」があります。矢印（`▶`）がついている側が入力です。

- **+5V (赤)**: 電源の +（プラス）へ
- **GND (黒/白)**: 電源の -（マイナス）**および** Raspberry Pi の GND へ
- **DIN (データ/緑)**: Raspberry Pi の **GPIO 18 (Pin 12)** へ

> [!TIP]
> **GNDの共通化（重要）**
> 「電源のマイナス」と「ラズパイのGND」を繋ぐのを忘れないでください。これをしないと信号の基準が不安定になり、LEDが激しく点滅したり誤作動したりします。

### 2. 配線図の確認

詳細は [こちらの子回路図（外部）](https://web.archive.org/web/20230319222537/https://tutorials-raspberrypi.com/wp-content/uploads/2017/03/Raspberry-Pi-WS2812-Steckplatine.png) を参照してください。

---

## 💻 フェーズ3: ソフトウェアのインストール

1. 電源を入れて3分ほど待機します。
2. Macのターミナルからログインします。
   ```bash
   ssh plv@pianoledvisualizer.local
   ```
3. 以下の魔法のコマンド（自動インストール）を実行します。
   ```bash
   sudo bash -c "$(curl -fsSL https://raw.githubusercontent.com/onlaj/Piano-LED-Visualizer/master/autoinstall.sh)"
   ```
4. 指示に従って再起動すれば、セットアップ完了です！

---

## 🌈 フェーズ4: 動作確認と初期設定

Webブラウザから設定画面を開きます。

- **URL**: [http://pianoledvisualizer.local](http://pianoledvisualizer.local)

### 最初のチェックリスト

- [ ] **LEDが光らない**: `Settings` 画面で `LED Count`（LEDの数）を正しく設定しましたか？
- [ ] **ピアノに反応しない**: 電子ピアノとラズパイをUSBケーブルで繋いでいますか？
- [ ] **色が変**: `LED Type` (RGB / GRB / BRG) を設定で切り替えてみてください。

---

困ったことがあれば、いつでも agy に相談してくださいね！素敵な演奏体験になりますように。🎹✨
