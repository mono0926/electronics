# 筐体（ケース）設計検討

本ドキュメントでは、Piano LED Visualizer プロジェクトにおける、Raspberry Pi Zero 2 W をはじめとする制御基板を収めるケースの設計方針、および構成案（A/B）の比較検討の経緯を記録します。

## 採用案：案B（横並び構成）用オリジナル設計ケース

最終的に、公式作例で主流の「案A（スタッキング）」ではなく、**「案B（横並び）」による専用ケースの自作（または汎用ケースのモディファイ）** を採用しました。

### 採用の決め手

1. **放熱性能の最大化**
   - Pi Zero 2 W は高負荷時に発熱が大きいため、SoCの上空を空け、直接大型ヒートシンクを配置できる横並び構成が熱対策として極めて優位です。
2. **基板組み立てと配線の確実性**
   - 案Aのスタッキングではコンデンサやレベルシフタ（14ピンICソケット）をPi Zeroサイズの基板に詰め込む必要があり、配線レイアウトが非常に窮屈です。案Bの広さがあれば、ショートのリスクを減らし、安定したはんだ付けが可能です。
3. **トラブルシューティングの容易さ**
   - ジャンパ配線やテスターでの通電確認を行う際、全ての部品が平面的に並んでいる方が圧倒的にデバッグが楽です。
4. **3Dプリンター（Bambu Lab P2S）の活用**
   - 案Bの基板サイズ（秋月 95×72mm）に合わせた汎用のプロジェクトボックスを印刷し、Bambu Studio 上で必要な穴（DCジャック、ディスプレイ窓、ケーブル出し口、通気スリットなど）をネガティブパーツ等で空けるだけで、美しく実用的な専用ケースが作れます。

## 検討の経緯（なぜ案Aを見送ったか）

公式リポジトリで提供されている `RPICaseModel.stl` は、以下の案Aの構成を前提に作られています。

**【不採用案：案A（スタッキング・二段重ね構成）】**
Pi Zero の GPIO ヘッダに連結ピンソケット（約13.5mm）を取り付け、その上にディスプレイ基板を被せるスタイル。

**見送った理由：寸法不一致と干渉リスク**

1. **高さの超過**: Pi Zero基板 + レベルシフタ用基板 + ディスプレイ基板の3層構造になるため、オリジナルケース（2層想定）では物理的に高さ（Z軸）が飛び出してしまいます。
2. **部品の物理的干渉**: リファレンス回路図に沿って大容量（1000μF）の電解コンデンサやDCジャック（スクリュー端子台）を載せると、スリムなオリジナルケースのフタや壁面と干渉する可能性が極めて高く、結局ケースの再設計・大幅なモディファイが必要になります。
3. **熱のこもり**: 上記の通り、Pi Zero 2 W のSoC直上にディスプレイ基板が覆い被さる構成は、長時間の運用における熱対策の観点で不安が残ります。

---

## 筐体設計の要件（案Bベース）

今後、P2Sで出力するケースの基本的な要件は以下の通りです。

### 1. 収納する主要パーツ

- 大型ユニバーサル基板（95×72mm / 秋月 100518）
  - 上に Raspberry Pi Zero 2 WH を固定
  - 上に Waveshare 1.44" LCD TFT を固定
  - 上に レベルシフタ（ICソケット）、抵抗、コンデンサ等を実装
- メタルDCジャック（スクリュー端子台）
- 中継用ヒューズホルダ

### 2. ケースにパターニング（穴あけ）が必要な箇所

- **側面**:
  - DCジャック固定用の丸穴（メタルプラグの径に合わせる）
  - LED用信号線・電源線引き出しスリット（または穴）
  - 熱対策用の通気（ベンチレーション）スリット
- **上面（フタ）**:
  - 1.44インチTFT液晶を見せるための四角い窓（約 26mm × 26mm 程度、実測推奨）

### 3. プリント要件

- **素材**: PETG推奨（耐熱性・放熱性）
- **積層等**: 0.2mm標準、インフィル15-20%、壁3ループ程度

### 4. おすすめの設計アプローチ

1. **Thingiverse等からベースを探す**:
   - `Parametric Project Box` などの汎用ケースモデルを探し、内寸が 100×80×35mm（仮）程度になるようにSTLを生成する。
2. **Bambu Studio で穴あけ**:
   - スライサー上で「追加パーツ（ネガティブ）」を使って、基盤寸法や画面位置を測りながらディスプレイ用の四角穴などを削り取る。

これで、熱にも強く、メンテナンス性も高い最強のビジュアライザー本体が完成するはずです！
